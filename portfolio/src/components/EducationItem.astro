---
interface Props {
	institution: string;
	institutionUrl?: string;
	degree: string;
	field: string;
	period: string;
	location?: string;
	achievements?: string[];
	gpa?: string;
}

const { institution, institutionUrl, degree, field, period, location, achievements, gpa } =
	Astro.props;
---

<div class="timeline-item">
	<div class="timeline-marker"></div>
	<div class="timeline-content">
		<div class="timeline-header">
			<div>
				<h3 class="timeline-degree">{degree}</h3>
				<p class="timeline-field">{field}</p>
				{
					institutionUrl ? (
						<a
							href={institutionUrl}
							target="_blank"
							rel="noopener noreferrer"
							class="timeline-institution-link"
						>
							{institution}
						</a>
					) : (
						<p class="timeline-institution">{institution}</p>
					)
				}
			</div>
			<div class="timeline-meta">
				<time class="timeline-period">{period}</time>
				{location && <span class="timeline-location">{location}</span>}
				{gpa && <span class="timeline-gpa">GPA: {gpa}</span>}
			</div>
		</div>
		{
			achievements && achievements.length > 0 && (
				<ul class="timeline-achievements">
					{achievements.map((achievement) => (
						<li>{achievement}</li>
					))}
				</ul>
			)
		}
	</div>
</div>

<style>
	.timeline-item {
		position: relative;
		padding-left: var(--space-3xl);
		padding-bottom: var(--space-3xl);
	}

	.timeline-item:last-child {
		padding-bottom: 0;
	}

	.timeline-marker {
		position: absolute;
		left: 0;
		top: 0;
		width: 16px;
		height: 16px;
		border-radius: 50%;
		background-color: var(--color-accent);
		border: 3px solid var(--color-bg);
		box-shadow: 0 0 0 1px var(--color-border);
	}

	.timeline-item::before {
		content: '';
		position: absolute;
		left: 7px;
		top: 16px;
		bottom: 0;
		width: 2px;
		background-color: var(--color-border);
	}

	.timeline-item:last-child::before {
		display: none;
	}

	.timeline-content {
		background-color: white;
		border: 1px solid var(--color-border);
		padding: var(--space-xl);
	}

	.timeline-header {
		display: flex;
		justify-content: space-between;
		align-items: flex-start;
		margin-bottom: var(--space-lg);
		gap: var(--space-lg);
	}

	.timeline-degree {
		font-size: var(--text-xl);
		margin-bottom: var(--space-xs);
	}

	.timeline-field {
		color: var(--color-muted);
		font-size: var(--text-base);
		font-weight: 600;
		margin-bottom: var(--space-xs);
	}

	.timeline-institution {
		color: var(--color-accent);
		font-size: var(--text-base);
		font-weight: 600;
		margin: 0;
	}

	.timeline-institution-link {
		color: var(--color-accent);
		font-size: var(--text-base);
		font-weight: 600;
		text-decoration: none;
		border-bottom: 2px solid transparent;
		transition: all 0.2s ease;
	}

	.timeline-institution-link:hover {
		color: var(--color-fg);
		border-bottom-color: var(--color-accent);
	}

	.timeline-meta {
		text-align: right;
		flex-shrink: 0;
	}

	.timeline-period {
		display: block;
		font-family: var(--font-mono);
		font-size: var(--text-sm);
		color: var(--color-muted);
		margin-bottom: var(--space-xs);
	}

	.timeline-location {
		display: block;
		font-size: var(--text-sm);
		color: var(--color-muted);
		margin-bottom: var(--space-xs);
	}

	.timeline-gpa {
		display: block;
		font-size: var(--text-sm);
		color: var(--color-fg);
		font-weight: 600;
		font-family: var(--font-mono);
	}

	.timeline-achievements {
		list-style: none;
		padding: 0;
		margin: 0;
	}

	.timeline-achievements li {
		position: relative;
		padding-left: var(--space-lg);
		margin-bottom: var(--space-md);
		color: var(--color-muted);
		line-height: var(--leading-relaxed);
	}

	.timeline-achievements li:last-child {
		margin-bottom: 0;
	}

	.timeline-achievements li::before {
		content: 'â–¸';
		position: absolute;
		left: 0;
		color: var(--color-accent);
		font-weight: bold;
	}

	@media (max-width: 768px) {
		.timeline-header {
			flex-direction: column;
		}

		.timeline-meta {
			text-align: left;
		}

		.timeline-item {
			padding-left: var(--space-xl);
		}
	}
</style>
