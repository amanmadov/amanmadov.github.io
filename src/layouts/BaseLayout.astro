---
interface Props {
	title?: string;
	description?: string;
	image?: string;
}

const {
	title = 'Nurmyrat Amanmadov - Senior Infrastructure Engineer | Infrastructure, Cloud & AI',
	description = 'Senior Infrastructure Engineer at University of Washington specializing in Cloud infrastructure, AI-powered automation, Salesforce, and Enterprise-scale solutions. Serving 20K+ collaborators across 170+ countries.',
	image = '/og-image.png',
} = Astro.props;

const canonicalURL = new URL(Astro.url.pathname, Astro.site);
---

<!doctype html>
<html lang="en">
	<head>
		<meta charset="UTF-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0" />
		<link rel="icon" type="image/svg+xml" href="/favicon.svg" />
		<meta name="generator" content={Astro.generator} />

		<!-- Primary Meta Tags -->
		<title>{title}</title>
		<meta name="title" content={title} />
		<meta name="description" content={description} />
		<link rel="canonical" href={canonicalURL} />

		<!-- Open Graph / Facebook -->
		<meta property="og:type" content="website" />
		<meta property="og:url" content={canonicalURL} />
		<meta property="og:title" content={title} />
		<meta property="og:description" content={description} />
		<meta property="og:image" content={new URL(image, Astro.url)} />

		<!-- Twitter -->
		<meta property="twitter:card" content="summary_large_image" />
		<meta property="twitter:url" content={canonicalURL} />
		<meta property="twitter:title" content={title} />
		<meta property="twitter:description" content={description} />
		<meta property="twitter:image" content={new URL(image, Astro.url)} />

		<!-- Preload critical fonts (if using custom fonts) -->
		<!-- <link rel="preload" href="/fonts/font.woff2" as="font" type="font/woff2" crossorigin> -->

		<style is:global>
			@import '../styles/global.css';
		</style>
	</head>
	<body>
		<a href="#main" class="skip-link">Skip to main content</a>

		<header id="header">
			<nav class="nav">
				<div class="container">
					<div class="nav-content">
						<a href="/" class="nav-logo" aria-label="Home">
							<strong>Nurmyrat Amanmadov</strong>
						</a>
						<button
							class="nav-toggle"
							aria-label="Toggle navigation menu"
							aria-expanded="false"
						>
							<span></span>
							<span></span>
							<span></span>
						</button>
						<ul class="nav-links">
							<li><a href="/#about">About</a></li>
							<li><a href="/#projects">Projects</a></li>
							<li><a href="/#experience">Experience</a></li>
							<li><a href="/#education">Education</a></li>
							<li><a href="/#publications">Publications</a></li>
							<li><a href="/#certifications">Certifications</a></li>
							<li><a href="/#contact">Contact</a></li>
						</ul>
					</div>
				</div>
			</nav>
		</header>

		<main id="main">
			<slot />
		</main>

		<footer class="footer">
			<div class="container">
				<div class="footer-content">
					<div class="footer-social">
						<a
							href="https://linkedin.com/in/amanmadov"
							target="_blank"
							rel="noopener noreferrer"
							aria-label="LinkedIn"
						>
							<svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor">
								<path
									d="M19 0h-14c-2.761 0-5 2.239-5 5v14c0 2.761 2.239 5 5 5h14c2.762 0 5-2.239 5-5v-14c0-2.761-2.238-5-5-5zm-11 19h-3v-11h3v11zm-1.5-12.268c-.966 0-1.75-.79-1.75-1.764s.784-1.764 1.75-1.764 1.75.79 1.75 1.764-.783 1.764-1.75 1.764zm13.5 12.268h-3v-5.604c0-3.368-4-3.113-4 0v5.604h-3v-11h3v1.765c1.396-2.586 7-2.777 7 2.476v6.759z"
								></path>
							</svg>
						</a>
						<a
							href="https://github.com/amanmadov"
							target="_blank"
							rel="noopener noreferrer"
							aria-label="GitHub"
						>
							<svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor">
								<path
									d="M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"
								></path>
							</svg>
						</a>
						<a
							href="https://x.com/amanmadov"
							target="_blank"
							rel="noopener noreferrer"
							aria-label="X (Twitter)"
						>
							<svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor">
								<path
									d="M18.244 2.25h3.308l-7.227 8.26 8.502 11.24H16.17l-5.214-6.817L4.99 21.75H1.68l7.73-8.835L1.254 2.25H8.08l4.713 6.231zm-1.161 17.52h1.833L7.084 4.126H5.117z"
								></path>
							</svg>
						</a>
						<a href="mailto:amanmadov@ieee.org" aria-label="Email">
							<svg
								width="24"
								height="24"
								viewBox="0 0 24 24"
								fill="none"
								stroke="currentColor"
								stroke-width="2"
							>
								<path
									d="M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z"
								></path>
								<polyline points="22,6 12,13 2,6"></polyline>
							</svg>
						</a>
						<a
							href="https://www.salesforce.com/trailblazer/amanmadov"
							target="_blank"
							rel="noopener noreferrer"
							aria-label="Salesforce Trailblazer"
						>
							<svg
								width="24"
								height="24"
								viewBox="0 0 24 24"
								fill="none"
								stroke="currentColor"
								stroke-width="2"
								stroke-linecap="round"
								stroke-linejoin="round"
							>
								<path d="M18 10h-1.26A8 8 0 1 0 9 20h9a5 5 0 0 0 0-10z"></path>
							</svg>
						</a>
						<a
							href="https://www.hackerrank.com/amanmadov"
							target="_blank"
							rel="noopener noreferrer"
							aria-label="HackerRank"
						>
							<svg
								width="24"
								height="24"
								viewBox="0 0 24 24"
								fill="none"
								stroke="currentColor"
								stroke-width="2"
								stroke-linecap="round"
								stroke-linejoin="round"
							>
								<polyline points="4 17 10 11 4 5"></polyline>
								<line x1="12" y1="19" x2="20" y2="19"></line>
							</svg>
						</a>
						<a
							href="https://www.researchgate.net/profile/Nurmyrat-Amanmadov"
							target="_blank"
							rel="noopener noreferrer"
							aria-label="ResearchGate"
						>
							<svg
								width="24"
								height="24"
								viewBox="0 0 24 24"
								fill="none"
								stroke="currentColor"
								stroke-width="2"
								stroke-linecap="round"
								stroke-linejoin="round"
							>
								<path d="M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z"></path>
								<path d="M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z"></path>
							</svg>
						</a>
						<a
							href="https://orcid.org/0009-0005-2223-0258"
							target="_blank"
							rel="noopener noreferrer"
							aria-label="ORCID"
						>
							<svg
								width="24"
								height="24"
								viewBox="0 0 24 24"
								fill="none"
								stroke="currentColor"
								stroke-width="2"
								stroke-linecap="round"
								stroke-linejoin="round"
							>
								<path d="M22 10v6M2 10l10-5 10 5-10 5z"></path>
								<path d="M6 12v5c3 3 9 3 12 0v-5"></path>
							</svg>
						</a>
					</div>
					<p class="footer-copyright">
						&copy; 2024 Nurmyrat Amanmadov. All rights reserved.
					</p>
				</div>
			</div>
		</footer>

		<style>
			/* Navigation */
			.nav {
				position: fixed;
				top: 0;
				left: 0;
				right: 0;
				background-color: var(--color-bg);
				border-bottom: 1px solid var(--color-border);
				height: var(--nav-height);
				z-index: 50;
				backdrop-filter: blur(10px);
				background-color: rgba(250, 250, 250, 0.9);
			}

			.nav-content {
				display: flex;
				align-items: center;
				justify-content: space-between;
				height: var(--nav-height);
			}

			.nav-logo {
				font-size: var(--text-lg);
				color: var(--color-fg);
				text-decoration: none;
			}

			.nav-logo:hover {
				color: var(--color-accent);
				text-decoration: none;
			}

			.nav-links {
				display: flex;
				list-style: none;
				gap: var(--space-xl);
				margin: 0;
			}

			.nav-links a {
				color: var(--color-muted);
				font-size: var(--text-sm);
				text-transform: uppercase;
				letter-spacing: 0.05em;
				font-weight: 600;
				text-decoration: none;
			}

			.nav-links a:hover {
				color: var(--color-fg);
			}

			/* Mobile Menu Toggle */
			.nav-toggle {
				display: none;
				flex-direction: column;
				gap: 4px;
				background: none;
				border: none;
				cursor: pointer;
				padding: var(--space-xs);
				z-index: 60;
			}

			.nav-toggle span {
				width: 24px;
				height: 2px;
				background-color: var(--color-fg);
				transition: all 0.3s ease;
			}

			.nav-toggle[aria-expanded='true'] span:nth-child(1) {
				transform: rotate(45deg) translate(5px, 5px);
			}

			.nav-toggle[aria-expanded='true'] span:nth-child(2) {
				opacity: 0;
			}

			.nav-toggle[aria-expanded='true'] span:nth-child(3) {
				transform: rotate(-45deg) translate(6px, -6px);
			}

			/* Footer */
			.footer {
				background-color: var(--color-fg);
				color: var(--color-bg);
				padding: var(--space-3xl) 0 var(--space-xl);
				margin-top: var(--space-5xl);
			}

			.footer-content {
				text-align: center;
			}

			.footer-social {
				display: flex;
				justify-content: center;
				gap: var(--space-lg);
				margin-bottom: var(--space-lg);
			}

			.footer-social a {
				color: var(--color-bg);
				transition: all var(--transition-fast);
			}

			.footer-social a:hover {
				color: var(--color-accent);
				transform: translateY(-2px);
			}

			.footer-copyright {
				color: var(--color-muted);
				font-size: var(--text-sm);
				margin: 0;
			}

			@media (max-width: 768px) {
				.nav-toggle {
					display: flex;
				}

				.nav-links {
					position: fixed;
					top: var(--nav-height);
					left: 0;
					right: 0;
					flex-direction: column;
					gap: 0;
					background-color: rgba(250, 250, 250, 0.98);
					border-bottom: 1px solid var(--color-border);
					padding: var(--space-lg) 0;
					transform: translateY(-100%);
					opacity: 0;
					visibility: hidden;
					transition: all 0.3s ease;
				}

				.nav-links.active {
					transform: translateY(0);
					opacity: 1;
					visibility: visible;
				}

				.nav-links li {
					width: 100%;
					text-align: center;
					border-bottom: 1px solid var(--color-border);
				}

				.nav-links li:last-child {
					border-bottom: none;
				}

				.nav-links a {
					display: block;
					padding: var(--space-md) var(--space-xl);
					font-size: var(--text-base);
				}

				.nav-logo {
					font-size: var(--text-base);
				}
			}
		</style>

		<script>
			// Mobile menu toggle
			const navToggle = document.querySelector('.nav-toggle');
			const navLinks = document.querySelector('.nav-links');

			if (navToggle && navLinks) {
				navToggle.addEventListener('click', () => {
					const isExpanded = navToggle.getAttribute('aria-expanded') === 'true';
					navToggle.setAttribute('aria-expanded', (!isExpanded).toString());
					navLinks.classList.toggle('active');
				});

				// Close menu when clicking on a link
				const links = navLinks.querySelectorAll('a');
				links.forEach((link) => {
					link.addEventListener('click', () => {
						navToggle.setAttribute('aria-expanded', 'false');
						navLinks.classList.remove('active');
					});
				});

				// Close menu when clicking outside
				document.addEventListener('click', (e) => {
					const target = e.target as HTMLElement;
					if (
						!navToggle.contains(target) &&
						!navLinks.contains(target) &&
						navLinks.classList.contains('active')
					) {
						navToggle.setAttribute('aria-expanded', 'false');
						navLinks.classList.remove('active');
					}
				});
			}
		</script>
	</body>
</html>
